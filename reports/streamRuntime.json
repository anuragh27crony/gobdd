[
    {
        "uri": "features/streamService.feature",
        "id": "stream-service-deployment-scenarios",
        "keyword": "Feature",
        "name": "Stream Service Deployment Scenarios",
        "description": "  Stream Service is deployed through Service Catalog Entry onto an existing Kubernetes cluster.\n  The feature verifies all possible installation scenarios.",
        "line": 4,
        "comments": [
            {
                "value": "#  Style: Functional requirement style rather than procedural reference.",
                "line": 1
            },
            {
                "value": "# https://cucumber.io/docs/bdd/better-gherkin/",
                "line": 2
            },
            {
                "value": "#    This scenario is for or blue-green deployments or A/B testing",
                "line": 15
            },
            {
                "value": "# This is negative scenario to verify no material impact due to re-installing same version",
                "line": 33
            },
            {
                "value": "# This scenario arises when cleanup activity is performed",
                "line": 64
            }
        ],
        "elements": [
            {
                "id": "stream-service-deployment-scenarios;installing-new-stream-service-with-valid-inputs",
                "keyword": "Scenario",
                "name": "Installing new Stream Service with valid inputs",
                "description": "",
                "line": 9,
                "type": "scenario",
                "steps": [
                    {
                        "keyword": "Given ",
                        "name": "A valid kubernetes cluster is running",
                        "line": 10,
                        "match": {
                            "location": "operator_test.go:110"
                        },
                        "result": {
                            "status": "passed",
                            "duration": 20279
                        }
                    },
                    {
                        "keyword": "When ",
                        "name": "Install Stream Service with valid input",
                        "line": 11,
                        "match": {
                            "location": "streamService_test.go:13"
                        },
                        "result": {
                            "status": "failed",
                            "error_message": "\n\tError Trace:\tassertionWrapper.go:12\n\t            \t\t\t\tstreamService_test.go:14\n\t            \t\t\t\tvalue.go:475\n\t            \t\t\t\tvalue.go:336\n\t            \t\t\t\tstepdef.go:214\n\t            \t\t\t\tsuite.go:311\n\t            \t\t\t\tsuite.go:396\n\t            \t\t\t\tsuite.go:480\n\t            \t\t\t\trun.go:203\n\t            \t\t\t\tasm_amd64.s:1374\n\tError:      \tNot equal: \n\t            \texpected: true\n\t            \tactual  : false\n\tMessages:   \tError Occured while Deploying StreamRuntime SCE\n",
                            "duration": 120077
                        }
                    },
                    {
                        "keyword": "Then ",
                        "name": "Stream Service should be installed successfully",
                        "line": 12,
                        "match": {
                            "location": "streamService_test.go:31"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Helm List should display new version of Stream Service with status \u003cdeployed\u003e",
                        "line": 13,
                        "match": {
                            "location": "streamService_test.go:47"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    }
                ]
            },
            {
                "id": "stream-service-deployment-scenarios;updating-multiple-versions-of-stream-service-with-valid-inputs;;2",
                "keyword": "Scenario Outline",
                "name": "Updating multiple versions of Stream Service with valid inputs",
                "description": "",
                "line": 25,
                "type": "scenario",
                "steps": [
                    {
                        "keyword": "Given ",
                        "name": "A valid kubernetes cluster is running",
                        "line": 25,
                        "match": {
                            "location": "operator_test.go:110"
                        },
                        "result": {
                            "status": "passed",
                            "duration": 24283
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Stream Service with version 1.0.0 is running",
                        "line": 25,
                        "match": {
                            "location": "streamService_test.go:16"
                        },
                        "result": {
                            "status": "failed",
                            "error_message": "\n\tError Trace:\tassertionWrapper.go:12\n\t            \t\t\t\tstreamService_test.go:17\n\t            \t\t\t\tvalue.go:475\n\t            \t\t\t\tvalue.go:336\n\t            \t\t\t\tstepdef.go:214\n\t            \t\t\t\tsuite.go:311\n\t            \t\t\t\tsuite.go:396\n\t            \t\t\t\tsuite.go:480\n\t            \t\t\t\trun.go:203\n\t            \t\t\t\tasm_amd64.s:1374\n\tError:      \tNot equal: \n\t            \texpected: true\n\t            \tactual  : false\n\tMessages:   \tError Occured while Deploying StreamRuntime SCE\n",
                            "duration": 121982
                        }
                    },
                    {
                        "keyword": "When ",
                        "name": "Install Stream Service with version 1.2.0",
                        "line": 25,
                        "match": {
                            "location": "streamService_test.go:16"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "Then ",
                        "name": "Stream Service with version 1.2.0 should be installed successfully",
                        "line": 25,
                        "match": {
                            "location": "streamService_test.go:31"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "2 instances of Stream Service should be running",
                        "line": 25,
                        "match": {
                            "location": "streamService_test.go:10"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Helm List should display 2 charts of Stream Service with status \u003cdeployed\u003e",
                        "line": 25,
                        "match": {
                            "location": "streamService_test.go:47"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    }
                ]
            },
            {
                "id": "stream-service-deployment-scenarios;installing-new-stream-service-with-bad-inputs",
                "keyword": "Scenario",
                "name": "Installing new Stream Service with bad inputs",
                "description": "",
                "line": 27,
                "type": "scenario",
                "steps": [
                    {
                        "keyword": "Given ",
                        "name": "A valid kubernetes cluster is running",
                        "line": 28,
                        "match": {
                            "location": "operator_test.go:110"
                        },
                        "result": {
                            "status": "passed",
                            "duration": 38360
                        }
                    },
                    {
                        "keyword": "When ",
                        "name": "Install Stream Service with bad inputs",
                        "line": 29,
                        "match": {
                            "location": "streamService_test.go:20"
                        },
                        "result": {
                            "status": "passed",
                            "duration": 70622
                        }
                    },
                    {
                        "keyword": "Then ",
                        "name": "Stream Service installation should throw error for bad inputs",
                        "line": 30,
                        "match": {
                            "location": "streamService_test.go:35"
                        },
                        "result": {
                            "status": "passed",
                            "duration": 157103
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Helm List should display new version of Stream Service with status \u003cfailed\u003e",
                        "line": 31,
                        "match": {
                            "location": "streamService_test.go:47"
                        },
                        "result": {
                            "status": "passed",
                            "duration": 86010
                        }
                    }
                ]
            },
            {
                "id": "stream-service-deployment-scenarios;re-installing-stream-service-with-same-version-\u0026-same-name;;2",
                "keyword": "Scenario Outline",
                "name": "Re-Installing Stream Service with same version \u0026 same name",
                "description": "",
                "line": 41,
                "type": "scenario",
                "steps": [
                    {
                        "keyword": "Given ",
                        "name": "A valid kubernetes cluster is running",
                        "line": 41,
                        "match": {
                            "location": "operator_test.go:110"
                        },
                        "result": {
                            "status": "passed",
                            "duration": 26680
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Stream Service with version 0.9.0 is running",
                        "line": 41,
                        "match": {
                            "location": "streamService_test.go:16"
                        },
                        "result": {
                            "status": "failed",
                            "error_message": "\n\tError Trace:\tassertionWrapper.go:12\n\t            \t\t\t\tstreamService_test.go:17\n\t            \t\t\t\tvalue.go:475\n\t            \t\t\t\tvalue.go:336\n\t            \t\t\t\tstepdef.go:214\n\t            \t\t\t\tsuite.go:311\n\t            \t\t\t\tsuite.go:396\n\t            \t\t\t\tsuite.go:480\n\t            \t\t\t\trun.go:203\n\t            \t\t\t\tasm_amd64.s:1374\n\tError:      \tNot equal: \n\t            \texpected: true\n\t            \tactual  : false\n\tMessages:   \tError Occured while Deploying StreamRuntime SCE\n",
                            "duration": 125282
                        }
                    },
                    {
                        "keyword": "When ",
                        "name": "Stream Service is Re-Installed with version 0.9.0",
                        "line": 41,
                        "match": {
                            "location": "streamService_test.go:22"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "Then ",
                        "name": "Error should be displayed",
                        "line": 41,
                        "match": {
                            "location": "operator_test.go:105"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    }
                ]
            },
            {
                "id": "stream-service-deployment-scenarios;rolling-upgrade-of-stream-service-with-new-version;;2",
                "keyword": "Scenario Outline",
                "name": "Rolling Upgrade of Stream Service with new version",
                "description": "",
                "line": 52,
                "type": "scenario",
                "steps": [
                    {
                        "keyword": "Given ",
                        "name": "A valid kubernetes cluster is running",
                        "line": 52,
                        "match": {
                            "location": "operator_test.go:110"
                        },
                        "result": {
                            "status": "passed",
                            "duration": 28019
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Stream Service with version 0.9.0 is running",
                        "line": 52,
                        "match": {
                            "location": "streamService_test.go:16"
                        },
                        "result": {
                            "status": "failed",
                            "error_message": "\n\tError Trace:\tassertionWrapper.go:12\n\t            \t\t\t\tstreamService_test.go:17\n\t            \t\t\t\tvalue.go:475\n\t            \t\t\t\tvalue.go:336\n\t            \t\t\t\tstepdef.go:214\n\t            \t\t\t\tsuite.go:311\n\t            \t\t\t\tsuite.go:396\n\t            \t\t\t\tsuite.go:480\n\t            \t\t\t\trun.go:203\n\t            \t\t\t\tasm_amd64.s:1374\n\tError:      \tNot equal: \n\t            \texpected: true\n\t            \tactual  : false\n\tMessages:   \tError Occured while Deploying StreamRuntime SCE\n",
                            "duration": 139312
                        }
                    },
                    {
                        "keyword": "When ",
                        "name": "Stream Service is upgraded to version 1.0.0",
                        "line": 52,
                        "match": {
                            "location": "streamService_test.go:25"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "Then ",
                        "name": "Stream Service should be upgraded successfully",
                        "line": 52,
                        "match": {
                            "location": "streamService_test.go:31"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Stream Service should be available during rolling-upgrade",
                        "line": 52,
                        "match": {
                            "location": "streamService_test.go:44"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Helm List should display version 1.0.0 for Stream Service",
                        "line": 52,
                        "match": {
                            "location": "streamService_test.go:41"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    }
                ]
            },
            {
                "id": "stream-service-deployment-scenarios;rollback-of-stream-service-to-old-stable-version;;2",
                "keyword": "Scenario Outline",
                "name": "Rollback of Stream Service to Old stable version",
                "description": "",
                "line": 62,
                "type": "scenario",
                "steps": [
                    {
                        "keyword": "Given ",
                        "name": "A valid kubernetes cluster is running",
                        "line": 62,
                        "match": {
                            "location": "operator_test.go:110"
                        },
                        "result": {
                            "status": "passed",
                            "duration": 22631
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Stream Service is upgraded to version 1.0.0",
                        "line": 62,
                        "match": {
                            "location": "streamService_test.go:25"
                        },
                        "result": {
                            "status": "failed",
                            "error_message": "\n\tError Trace:\tassertionWrapper.go:12\n\t            \t\t\t\tstreamService_test.go:26\n\t            \t\t\t\tvalue.go:475\n\t            \t\t\t\tvalue.go:336\n\t            \t\t\t\tstepdef.go:214\n\t            \t\t\t\tsuite.go:311\n\t            \t\t\t\tsuite.go:396\n\t            \t\t\t\tsuite.go:480\n\t            \t\t\t\trun.go:203\n\t            \t\t\t\tasm_amd64.s:1374\n\tError:      \tNot equal: \n\t            \texpected: true\n\t            \tactual  : false\n\tMessages:   \tError Occured while Deploying StreamRuntime SCE\n",
                            "duration": 135659
                        }
                    },
                    {
                        "keyword": "When ",
                        "name": "Stream Service is rolledback to version 0.9.0",
                        "line": 62,
                        "match": {
                            "location": "streamService_test.go:25"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "Then ",
                        "name": "Stream Service should be rolled back to version 0.9.0",
                        "line": 62,
                        "match": {
                            "location": "streamService_test.go:41"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Helm List should display version 0.9.0 for Stream Service",
                        "line": 62,
                        "match": {
                            "location": "streamService_test.go:41"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    }
                ]
            },
            {
                "id": "stream-service-deployment-scenarios;uninstall-stream-service",
                "keyword": "Scenario",
                "name": "UnInstall Stream Service",
                "description": "",
                "line": 65,
                "type": "scenario",
                "steps": [
                    {
                        "keyword": "Given ",
                        "name": "A valid kubernetes cluster is running",
                        "line": 66,
                        "match": {
                            "location": "operator_test.go:110"
                        },
                        "result": {
                            "status": "passed",
                            "duration": 35512
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Stream Service is running",
                        "line": 67,
                        "match": {
                            "location": "streamService_test.go:13"
                        },
                        "result": {
                            "status": "failed",
                            "error_message": "\n\tError Trace:\tassertionWrapper.go:12\n\t            \t\t\t\tstreamService_test.go:14\n\t            \t\t\t\tvalue.go:475\n\t            \t\t\t\tvalue.go:336\n\t            \t\t\t\tstepdef.go:214\n\t            \t\t\t\tsuite.go:311\n\t            \t\t\t\tsuite.go:396\n\t            \t\t\t\tsuite.go:480\n\t            \t\t\t\trun.go:203\n\t            \t\t\t\tasm_amd64.s:1374\n\tError:      \tNot equal: \n\t            \texpected: true\n\t            \tactual  : false\n\tMessages:   \tError Occured while Deploying StreamRuntime SCE\n",
                            "duration": 164060
                        }
                    },
                    {
                        "keyword": "When ",
                        "name": "Stream Service is deleted/uninstalled from cluster",
                        "line": 68,
                        "match": {
                            "location": "streamService_test.go:29"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "Then ",
                        "name": "Stream Service should be uninstalled",
                        "line": 69,
                        "match": {
                            "location": "streamService_test.go:35"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    },
                    {
                        "keyword": "And ",
                        "name": "Helm List should not display Stream Service chart",
                        "line": 70,
                        "match": {
                            "location": "streamService_test.go:41"
                        },
                        "result": {
                            "status": "skipped"
                        }
                    }
                ]
            }
        ]
    }
]
